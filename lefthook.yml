# Lefthook configuration for photo-qa
# https://github.com/evilmartians/lefthook

pre-commit:
  parallel: true
  commands:
    fmt:
      glob: "*.rs"
      run: cargo fmt --check
      fail_text: "Formatting check failed. Run 'cargo fmt' to fix."

    clippy:
      glob: "*.rs"
      run: cargo clippy --all-targets -- -D warnings
      fail_text: "Clippy found issues. Run 'cargo clippy --fix' to fix."

pre-push:
  commands:
    test:
      run: cargo test --quiet
      fail_text: "Tests failed. Fix failing tests before pushing."
